(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47e7f019"],{"19d0":function(e,t,r){"use strict";var n=r("eba6"),a=r.n(n);a.a},"9add":function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r("b775");function a(e){return Object(n["a"])({url:"/wares/getBrands",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/wares/deleteBrand",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/wares/updataBrand",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/wares/searchBrand",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/wares/addBrand",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/wares/addStoreBrand",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/wares/addCategoryBrand",method:"post",data:e})}},eba6:function(e,t,r){},ef6b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[r("el-form",{ref:"brandFrom",attrs:{model:e.brand,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"品牌名称："}},[r("el-input",{attrs:{value:e.name,readonly:""}})],1),r("el-form-item",{attrs:{label:"品牌首字母：",prop:"letter"}},[r("el-input",{model:{value:e.brand.letter,callback:function(t){e.$set(e.brand,"letter",t)},expression:"brand.letter"}})],1),r("el-form-item",{attrs:{label:"品牌LOGO：",prop:"image"}},[r("el-upload",{attrs:{action:"http://www.dreamqd.cn:5100/upload","list-type":"picture","on-success":e.handleUploadSuccess,"before-upload":e.handleUBeforeUpload},model:{value:e.brand.image,callback:function(t){e.$set(e.brand,"image",t)},expression:"brand.image"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过5MB ")])],1),r("el-dialog",[r("img",{attrs:{width:"100%",src:this.brand.image,alt:""}})])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("brandFrom")}}},[e._v("提交")])],1)],1)],1)},a=[],o=(r("b0c0"),r("d3b7"),r("9add")),s={data:function(){return{name:"",brand:{letter:"",image:""},imageUrl:"",rules:{image:[{required:!0,message:"请输入品牌logo",trigger:"blur"}],letter:[{required:!0,message:"请输入品牌首字母"}]}}},created:function(){this.name=this.$route.query.name,console.log(this.$route.query.name)},methods:{handleUploadSuccess:function(e,t){console.log(t.response.files),this.brand.image=t.response.files},handleUBeforeUpload:function(e){var t=this;return console.log(e),new Promise((function(r,n){e.size>5242880?(t.$message({message:"只能上传jpg/png文件，且不超过5MB",type:"error",duration:1e3}),n()):r()}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(r){if(!r)return t.$message({message:"验证失败",type:"error",duration:1e3}),!1;t.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["g"])({name:t.name,image:t.brand.image,letter:t.brand.letter}).then((function(e){t.$message({message:"提交成功",type:"success",duration:1e3})})),t.$router.push({path:"/product/Brand"}),t.$refs[e].resetFields()})).catch((function(e){console.log(e)}))}))}}},u=s,i=(r("19d0"),r("2877")),l=Object(i["a"])(u,n,a,!1,null,null,null);t["default"]=l.exports}}]);