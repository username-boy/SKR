(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8f88a54"],{"1f27":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));var o=n("b775");function a(t){return Object(o["a"])({url:"/type/addParent",method:"post",data:t})}function r(t){return Object(o["a"])({url:"/wares/getSecondList",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/wares/selectParentNameNUll",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/wares/selectParentNotNull",method:"post",data:t})}},"3e6d":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"secondMenu"}},[n("el-card",{staticStyle:{margin:"20px 0"},attrs:{shadow:"never"}},[t._v(" 数据列表 "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"mini"},on:{click:t.addName}},[t._v("添加")])],1),n("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.secondMenu,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"编号",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"商品名称",align:"center"}}),n("el-table-column",{attrs:{prop:"action",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.deleteSecondMenu(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),n("div",{staticClass:"add"},[n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",[n("el-select",{attrs:{placeholder:"请选择二级分类"},model:{value:t.category_id,callback:function(e){t.category_id=e},expression:"category_id"}},t._l(t.addNameArr,(function(e,o){return n("el-option",{key:o,attrs:{value:e.id,label:e.name}},[t._v(t._s(e.name))])})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.addOkHandle}},[t._v("确 定")])],1)],1)],1)],1)},a=[],r=(n("b0c0"),n("5530")),c=n("c4c8"),u=n("1f27"),d=n("2f62"),i=(n("c463"),{data:function(){return{dialogVisible:!1,updateName:"",secondMenu:[],addNameArr:[],name:"",category_id:"",parent_name:""}},created:function(){this.getSecondList()},computed:Object(r["a"])({},Object(d["c"])(["storeInfo"])),methods:{addOkHandle:function(){var t=this;Object(u["a"])({store_id:this.storeInfo.id,category_id:this.category_id}).then((function(e){console.log(t.category_id),200==e.data.code?(console.log(e,"插入成功"),t.dialogVisible=!1,t.$message({type:"success",message:"插入成功"}),t.getSecondList()):t.$message({type:"error",message:"插入失败"}),t.dialogVisible=!1})).catch((function(t){console.log(t,"插入失败")}))},addName:function(){var t=this;this.dialogVisible=!0,console.log(this.parent_name),Object(u["d"])({parent_name:this.$route.query.parent_name}).then((function(e){t.addNameArr=e.data.data,console.log(t.addNameArr);for(var n=0;n<t.addNameArr.length;n++)t.name=t.addNameArr[n].name,t.category_id=t.addNameArr[n].id;console.log(t.name,t.category_id)})).catch((function(t){console.log(t,"获取失败")}))},getSecondList:function(){var t=this;Object(u["b"])({store_id:this.storeInfo.id,parent_name:this.$route.query.parent_name}).then((function(e){t.secondMenu=e.data.data,console.log(e,"获取成功")})).catch((function(t){console.log(t,"获取失败")}))},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},deleteSecondMenu:function(t,e){console.log(e),Object(c["f"])({id:e.id,parent_name:this.parent_name}).then((function(t){console.log(t,"删除成功了呦"),location.reload()})).catch((function(t){console.log(res,"删除失败了啊")}))}}}),s=i,l=n("2877"),f=Object(l["a"])(s,o,a,!1,null,null,null);e["default"]=f.exports},c4c8:function(t,e,n){"use strict";n.d(e,"j",(function(){return a})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"l",(function(){return i})),n.d(e,"m",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"k",(function(){return p})),n.d(e,"e",(function(){return b})),n.d(e,"p",(function(){return h})),n.d(e,"h",(function(){return g})),n.d(e,"g",(function(){return _})),n.d(e,"c",(function(){return O}));var o=n("b775");function a(t){return Object(o["a"])({url:"/wares/getMenu",method:"post",data:t})}function r(t){return Object(o["a"])({url:"/wares/deleteMenu",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/wares/deleteSubmenu",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/wares/getSubmenu",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/wares/getStorBrands",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/store/getSpecParam",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/classification/class",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/store/addSpu",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/store/getSpu",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/store/addMoreSku",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/store/getSku",method:"post",data:t})}function b(t){return Object(o["a"])({url:"/store/checkDelete",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/store/updataShop",method:"post",data:t})}function g(t){return Object(o["a"])({url:"/store/getCatName",method:"post",data:t})}function _(t){return Object(o["a"])({url:"/store/getBrandName",method:"post",data:t})}function O(t){return Object(o["a"])({url:"/store/deleteSpu",method:"post",data:t})}}}]);